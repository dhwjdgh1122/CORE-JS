## 콜백

**브라우저 메서드를 사용합니다**    
콜백, 프라미스 등을 어떻게 사용하는지 알기 위해 브라우저 전용 메서드를 사용할 예정이다. 스크립트를 불러오고 완성된 문서에 간단한 조작을 하는 예시에서 특히 브라우저 메서드가 사용될 예정이다.

브라우저 메서드가 익숙치 않아 이해가 잘 되지 않는다면 문서 객체 모델의 챕터 몇 개를 읽어보자.

---

자바스크립트 호스트 환경이 제공하는 여러 함수를 사용하면 **비동기**동작을 스케줄링 할 수 있다. 원하는 때에 동작이 시작하도록 할 수 있다.

**비동기적**이란 하나의 요청에 따른 응답을 즉시 처리하지 않아도, 그 대기 시간동안 또 다른 요청에 대해 처리 가능한 방식이다. 여러 개의 요청을 동시에 처리할 수 있는 장점이 있지만 동기 방식보다 속도가 떨어질 수 있다.

요청과 결과가 동시에 일어나지 않을 것이라는 약속

`setTimeout`은 스케줄링에 사용되는 가장 대표적인 함수이다.

실무에서 맞닥뜨리는 비동기 동작은 아주 다양한데, 스크립트나 모듈을 로딩하는 것 또한 비동기 동작이다.

`src`에 있는 스크립트를 읽어오는 함수 `loadScript(src)`를 예시로 비동기 동작 처리가 어떻게 일어나는지 보자.

```js
function loadScript(src) {
  // <script> 태그를 만들고 페이지에 태그를 추가합니다.
  // 태그가 페이지에 추가되면 src에 있는 스크립트를 로딩하고 실행합니다.
  let script = document.createElement('script');
  script.src = src;
  document.head.append(script);
}
```
함수 `loadScript(src)`는 `<script src="...">`를 동적으로 만들고 이를 문서에 추가한다. 브라우저는 자동으로 태그에 있는 스크립트를 불러오고, 로딩이 완료되면 스크립트를 실행한다.

`loadScript(src)` 사용법은 아래와 같다.

```js
// 해당 경로에 위치한 스크립트를 불러오고 실행함
loadScript('/my/script.js');
```

그런데 이 때 스크립트는 '비동기적으로'실행된다. 로딩은 지금 당장 시작되더라도 실행은 함수가 끝난 후에야 되기 때문이다. 