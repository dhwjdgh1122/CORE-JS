## 프로미스

본인을 아주 유명한 가수라고 가정해보자. 그리고 본인이 밤, 낮으로 다음 싱글 앨범이 언제 나오는지 물어보는 팬들을 상대해야 한다고 가정

앨범이 출시되면 팬들이 자동으로 소식을 받아볼 수 있도록 해 부하를 덜 겁니다. 구독 리스트를 하나 만들어 팬들에게 전달해 이메일 주소를 적게 하고, 앨범이 준비되면 리스트에 있는 팬들에게 메일을 보내 앨범 관련 소식을 바로 받아볼 수 있게 하는식으로 말이다.

 이렇게 하면 녹음 스튜디오에서 화재가 발생해서 출시 예정인 앨범이 취소되는 불상사가 발생해도 관련 소식을 팬들에게 전달 할 수 있다.

코드를 작성하면서 자주 만나는 상황을 아래 같은 상황으로 보자

1. '제작 코드'는 원격에서 스크립트를 불러오는 것 같은 시간이 걸리는 일을 한다. 위 비유에선 '가수'가 제작 코드에 해당된다.

2. '소비 코드(consuming code)'는 '제작 코드'의 결과를 기다렸다가 이를 소비한다. 이때 소비 주체(함수)는 여럿이 될 수 있다. 위 비유에서 소비 코드는 '팬'이다.

3. 프라미스는 '제작 코드'와 '소비 코드'를 연결해 주는 특별한 자바스크립트 객체이다. 위 비유에서 프라미스는 '구독 리스트'이다. '프라미스'는 시간이 얼마나 걸리든 상관없이 약속한 결과를 만들어 내는 '제작 코드'가 준비되었을 때, 모든 소비 코드가 결과를 사용할 수 있도록 해준다.

사실 프라미스는 구독 리스트보다 훨씬 복잡하기 때문에, 위 비유가 완벽하게 들어맞지는 않는다. 프라미스엔 더 많은 기능이 있고, 한계도 있다. 하지만 일단 이 비유를 이용해 프라미스를 학습해보자.

`promise` 객체는 아래와 같은 문법으로 만들 수 있다.

```js
let promise = new Promise(function(resolve, reject){
  // executor (제작 코드, '가수')
});
```

`new Promise`에 전달되는 함수는 executor(실행자, 실행 함수)라고 부른다. executor는 `new Promise`가 만들어질 때 자동으로 실행되는데, 결과를 최종적으로 만들어내는 제작 코드를 포함한다. 위 비유에서 '가수'가 바로 executor이다.


