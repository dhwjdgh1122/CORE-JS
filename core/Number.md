## 숫자형

모던 자바스크립트는 숫자를 나타내는 두 가지 자료형을 지원한다.

1. 일반적인 숫자는 '배정밀도 부동소수점 숫자'로 알려진 64비트 형식의 **IEEE-754**에 저장된다.
2. 임의의 길이를 가진 정수는 Bigint 숫자로 나타낼 수 있다. 일반적인 숫자는 `2^53` 이상이거나 `-2^53` 이하일 수 없다는 제약 때문에 Bigint라는 새로운 자료형이 만들어졌다. Bigint는 아주 특별한 경우에만 사용된다.

## 숫자를 입력하는 다양한 방법 

10억을 입력해야 한다고 상상해 보자. 가장 분명한 방법은 아래와 같이 직접 10억을 써주는 것이다

    let billion = 1000000000;

실제로는 이런 방법을 잘 사용하지 않는다. 그래서 대개는 10억(`billion`)을 나타낼 땐, `1bn`을 사용하고, 73억을 나타낼 땐, `7.3bn`을 사용한다.

자바스크립트에서도 숫자 옆에 `e`를 붙이고 0의 개수를 그 옆에 붙여주면 숫자를 줄일 수 있다.

    let billion = 1e9;  // 10억, 1과 9개의 0

    alert( 7.3e9 );  // 73억 (7,300,000,000)

즉, `e`는 e 왼쪽의 수에 e 오른쪽에 있는 수만큼의 10의 거듭제곱을 곱하는 효과가 있다.

    1e3 === 1 * 1000
    1.23e6 === 1.23 * 1000000

작은 숫자인 1마이크로초를 표현해보자.

    let ms = 0.000001;


작은 숫자를 표현할 때도 큰 숫자를 표현할 때처럼 `e`를 사용할 수 있다. 0을 명시적으로 쓰고 싶지 않다면 다음과 같이 숫자를 표현할 수 있다.

    let ms = 1e-6; // 1에서 왼쪽으로 6번 소수점 이동

`0.000001`에서 0의 개수를 세면 6이므로 `0.000001`은 당연히 `1e-6`이 된다.

이렇게 `'e'` 우측에 음수가 있으면, 이 음수의 절댓값 만큼 10을 거듭제곱한 수로 나누는 것을 의미한다.

    // 10을 세 번 거듭제곱한 수로 나눔
    1e-3 === 1 / 1000 // 0.001

    // 10을 여섯 번 거듭제곱한 수로 나눔
    1.23e-6 === 1.23 / 1000000 // 0.00000123

## 16진수, 2진수, 8진수

**16진수**는 색을 나타내거나 문자를 인코딩할때 등 다양한 곳에서 두루 쓰인다. 다양한 곳에서 쓰이는 만큼 당연히 16진수를 짧게 표현하는 방법도 존재한다. 16진수는 `0x`를 사용해 표현할 수 있다.

    alert( 0xff ); // 255
    alert( 0xFF ); // 255 (대·소문자를 가리지 않으므로 둘 다 같은 값을 나타냅니다.)

2진수와 8진수는 아주 드물게 쓰이긴 하지만, 접두사 `0b`와 `0o`를 사용해 간단히 나타낼 수 있다.

    let a = 0b11111111; // 255의 2진수
    let b = 0o377; // 255의 8진수

    alert( a == b ); // true, 진법은 다르지만, a와 b는 같은 수임


## toString(base)

`num.toString(base)` 메서드는 `base` 진법으로 `num`을 표현한 후, 이를 문자형으로 변환해 반환한다.

    let num = 255;

    alert( num.toString(16) );  // ff
    alert( num.toString(2) );   // 11111111

`base`는 `2`에서 `36`까지 쓸 수 있는데 기본값은 `10`이다.

`base`별 유스 케이스는 다음과 같다.

- **base=16** – 16진수 색, 문자 인코딩 등을 표현할 때 사용한다. 숫자는 `0`부터 `9`, 10 이상의 수는 `A`부터 `F`를 사용하여 나타낸다.
- **base=2** - 비트 연산 디버깅에 주로 쓰인다. 숫자는 `0` 또는 `1`이 될 수 있다.
- **base=36 - 사용할 수 있는 `base` 중 최댓값으로, `0..9`와 `A..Z`를 사용해 숫자를 표현한다. 알파벳 전체가 숫자를 나타내는 데 사용된다. `36` 베이스는 url을 줄이는 것과 같이 숫자로 된 긴 식별자를 짧게 줄일 때 유용하다. 예시를 살펴보자.

    alert( 123456..toString(36) ); // 2n9c

## 어림수 구하기

어림수를 구하는 것은 숫자를 다룰 때 가장 많이 사용되는 연산 중 하나이다.

어림수 관련 내장 함수 몇 가지는 아래와 같다.

`Math.floor`    
소수점 첫째 자리에서 내림(버림). `3.1`은 `3`, `-1.1`은 `-2`가 된다.

`Math.ceil`    
소수점 첫째 자리에서 올림. `3.1`은 `4`, `-1.1`은 `-1`이 된다.

`Math.round`    
소수점 첫째 자리에서 반올림. `3.1`은 `3`, `3.6`은 `4`, `-1.1`은 `-1`이 된다.

`Math.trunc (Internet Explorer에서는 지원하지 않음)    
소수부를 무시, `3.1`은 `3`이 되고 `-1.1`은 `-1`이 된다.

그런데 소수점 `n-th`번째 수를 기준으로 어림수를 구해야 하는 상황이면 어떻게 해야할까?

예를 들어 `1.2345`가 있는데 소수점 두 번째 자릿수까지만 남겨 `1.23`을 만들고 싶다면??

두 가지 방법이 있다.

1. 곱하기와 나누기    
소수점 두 번째 자리 숫자까지만 남기고 싶은 경우, 숫자에 `100`또는 `100`보다 큰 `10`의 거듭제곱 수를 곱한 후, 원하는 어림수 내장 함수를 호출하고 처음 곱한 수를 다시 나누면 된다.

    let num = 1.23456;

    alert( Math.floor(num * 100) / 100 ); // 1.23456 -> 123.456 -> 123 -> 1.23

2. 소수점 `n` 번째 수까지의 어림수를 구한 후 이를 문자형으로 반환해주는 메서드인 **toFixed(n)**를 사용한다.

    let num = 12.34;
    alert( num.toFixed(1) ); // "12.3"

`toFixed`는 `Math.round`와 유사하게 가장 가까운 값으로 올림 혹은 버림한다.

    let num = 12.36;
    alert( num.toFixed(1) ); // "12.4"


`toFixed`를 사용할 때 주의할 점은 이 메서드의 반환 값이 문자열이라는 것이다. 소수부의 길이가 인수보다 작으면 끝에 0이 추가된다.

    let num = 12.34;
    alert( num.toFixed(5) ); // "12.34000", 소수부의 길이를 5로 만들기 위해 0이 추가되었습니다.

참고로, `+num.toFixed(5)` 처럼 단항 덧셈 연산자를 앞에 붙이거나 `Number()`를 호출하면 문자형의 숫자를 숫자형으로 변환할 수 있다.

## parseint와 praseFloat
단항 덧셈 연산자 `+` 또는 `Number()`를 사용하여 숫자형으로 변형할 때 적용되는 규칙은 꽤 엄격하다. 피연산자가 숫자가 아니면 형 변환이 실패한다.

    alert( +"100px" ); // NaN

엄격한 규칙이 적용되지 않는 유일한 예외는 문자열의 처음 또는 끝에 공백이 있어서 공백을 무시할 때이다.

그런데 실무에선 CSS 등에서 `'100px'`, `'12pt'`와 같이 숫자와 단위를 함께 쓰는 경우가 흔하다.

내장 함수 `parseInt`와 `parseFloat`는 이런 경우를 위해 만들어졌다.

두 함수는 불가능할 때까지 문자열에서 숫자를 '읽는다' 숫자를 읽는 도중 오류가 발생하면 이미 수집된 숫자를 반환한다. `parseInt`는 정수, `parseFloat`는 부동 소수점 숫자를 반환한다.

    alert( parseInt('100px') ); // 100
    alert( parseFloat('12.5em') ); // 12.5

    alert( parseInt('12.3') ); // 12, 정수 부분만 반환됩니다.
    alert( parseFloat('12.3.4') ); // 12.3, 두 번째 점에서 숫자 읽기를 멈춥니다.

`parseInt`와 `parseFloat`가 `NaN`을 반환할 때도 있다.

    alert( parseInt('a123') ); // NaN, a는 숫자가 아니므로 숫자를 읽는 게 중지됩니다.


## 기타 수학 함수

`Math.random()`    
0과 1 사이의 난수를 반환한다(1제외)

alert( Math.random() ); // 0.1234567894322
alert( Math.random() ); // 0.5435252343232
alert( Math.random() ); // ... (무작위 수)

`Math.max(a, b, c...) / Math.min(a, b, c...)`    
인수 중 최대/최소값을 반환한다.

    alert( Math.max(3, 5, -10, 0, 1) ); // 5
    alert( Math.min(1, 2) ); // 1

`Math.pow(n, power)`    
`n`을 power번 거듭제곱한 값을 반환한다.

    alert( Math.pow(2, 10) ); // 2의 10제곱 = 1024

## 요약 
0이 많이 붙은 큰 숫자는 다음과 같은 방법을 사용한다.

- 0의 개수를 `'e'` 뒤에 추가합니다. `123e6`은 0이 6개인 숫자, `123000000`을 나타낸다.
- `e`다음에 음수가 오면, 음수의 절대값 만큼 10을 거듭제곱한 숫자로 주어진 숫자를 나눈다. `123e-6`은 `0.000123`을 나타낸다.

다양한 진법을 사용할 수 있다.

- 자바스크립트는 특별한 변환 없이 16진수, 8진수, 2진수를 바로 사용할 수 있ㄱ ㅔ지원한다.
- `parseInt(str, base)`를 사용하면 `str`을 `base`진수로 바꿔준다.
- `num.toString(base)`는 숫자를 `base`진수로 바꾸고, 이를 문자열 형태로 반환한다.

`12pt`나 `100px`과 같은 값을 숫자로 변환하는 것도 가능하다.
- `parseInt/parseFloat`를 사용하면 문자열에서 숫자만 읽고, 읽은 숫자를 에러가 발생하기 전에 반환해주는 '약한' 형 변환을 사용할 수 있다.

소수를 처리하는 데 쓰이는 메서드는 다음과 같다.
- `Math.floor`, `Math.ceil`, `Math.trunc`, `Math.round`, `num.toFixed(precision)`를 사용하면 어림수를 구할 수 있다.

